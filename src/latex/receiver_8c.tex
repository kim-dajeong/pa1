\doxysection{receiver.\+c File Reference}
\hypertarget{receiver_8c}{}\label{receiver_8c}\index{receiver.c@{receiver.c}}


Server functionality for a more reliable file transfer using UDP Protocol.  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$arpa/inet.\+h$>$}\newline
{\ttfamily \#include $<$netinet/in.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{receiver_8c_a09ceb5d127c76b283eea2bdac853b70f}{max\+\_\+payload\+\_\+size}}~1024
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{receiver_8c_ab41fdd85753470e49e9439d9e096947b}\label{receiver_8c_ab41fdd85753470e49e9439d9e096947b} 
void {\bfseries rrecv} (unsigned short int my\+UDPport, char \texorpdfstring{$\ast$}{*}destination\+File, unsigned long long int write\+Rate)
\item 
int \mbox{\hyperlink{receiver_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}argv)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Server functionality for a more reliable file transfer using UDP Protocol. 

The server/reciever part of the reliable file transfer using UDP.

\begin{DoxyAuthor}{Author}
Ana Bandari (anabandari) 
\end{DoxyAuthor}
\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000001}{Bug}}]Be able to recieve muliple packets End when a FIN is sent ~\newline
 \end{DoxyRefDesc}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{receiver_8c_a09ceb5d127c76b283eea2bdac853b70f}\label{receiver_8c_a09ceb5d127c76b283eea2bdac853b70f} 
\index{receiver.c@{receiver.c}!max\_payload\_size@{max\_payload\_size}}
\index{max\_payload\_size@{max\_payload\_size}!receiver.c@{receiver.c}}
\doxysubsubsection{\texorpdfstring{max\_payload\_size}{max\_payload\_size}}
{\footnotesize\ttfamily \#define max\+\_\+payload\+\_\+size~1024}

Receiver Notes Inputs\+: UDP Port, pointer to destination file, write rate (assume 0 for now)

Outputs\+: Write data to the destination file.

Receiver Algorithm Skeleton\+:
\begin{DoxyItemize}
\item Open a file for writing $<$complete$>$
\item Create large buffer $<$complete$>$
\begin{DoxyItemize}
\item Implementing a large static array. ~\newline

\end{DoxyItemize}
\item Create Socket to recieve infomration from sender $<$complete$>$
\end{DoxyItemize}

Loop\+: Start recieving packets
\begin{DoxyItemize}
\item Check if packet is empty
\begin{DoxyItemize}
\item send negative ack
\end{DoxyItemize}
\item Check if packet is in order
\begin{DoxyItemize}
\item add to buffer in correct position
\item send ack
\end{DoxyItemize}
\item If nothing recieved in \{timeout (\texorpdfstring{$\sim$}{\string~}40ms)\} send an ack for the last packet it has
\end{DoxyItemize}

for mac\+Os\+: curl ifconfig.\+me wget -\/O \doxylink{receiver_8c}{receiver.\+c} \href{https://raw.githubusercontent.com/kim-dajeong/pa1/main/src/receiver.c}{\texttt{ https\+://raw.\+githubusercontent.\+com/kim-\/dajeong/pa1/main/src/receiver.\+c}} gcc -\/o receiver \doxylink{receiver_8c}{receiver.\+c} ./receiver 8000 destination\+File 

\doxysubsection{Function Documentation}
\Hypertarget{receiver_8c_a3c04138a5bfe5d72780bb7e82a18e627}\label{receiver_8c_a3c04138a5bfe5d72780bb7e82a18e627} 
\index{receiver.c@{receiver.c}!main@{main}}
\index{main@{main}!receiver.c@{receiver.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{argv }\end{DoxyParamCaption})}

How To Run Main On Terminal\+:
\begin{DoxyItemize}
\item Navigate to the repository
\item cd to src folder
\item compile using\+: gcc -\/o receiver \doxylink{receiver_8c}{receiver.\+c}
\item run using\+: ./receiver $<$\+UDP port number$>$ destination\+File.\+txt
\item hostname -\/i 
\end{DoxyItemize}